# Changelog

Este archivo documenta los cambios realizados en el proyecto **Pastelix Ecommerce**.

El formato sigue el esquema de versionado semÃ¡ntico: MAJOR.MINOR.PATCH

- MAJOR: cambios incompatibles o que rompen funcionalidades existentes
- MINOR: nuevas funcionalidades compatibles
- PATCH: correcciones o mejoras internas sin cambios visibles importantes

## [0.5.0] - 2025-06-12 
### â• Agregado
- Creada las tablas:
    - `carritos`
    - `carrito_productos`
- Creado el controlador `APICarrito.php` para gestionar las apis referentes al funcionamiento de la tienda y su carrito
- Rutas para los llamados a la api:
    - `/api/recuperarCatalogo`
    - `/api/recuperarCarrito`
    - `/api/recuperarPrecio`
    - `/api/aÃ±adirProducto` 
    - `/api/actualizarCantidadProductoDelCarrito` 
    - `/api/eliminarProductoDelCarrito` 

### ğŸ”§ Cambiado
- Refactorizado el archivo `tienda.js` para integrar llamado a la api en su funcionamiento
- Refactorizado el archivo `tienda.php` para pasar el renderizado de la pagina a `tienda.js`
- AÃ±adida funcion `whereArray` en el modelo `ActiveRecord`

### ğŸ› Corregido
- Arreglada la funcionalidad de `/tienda`

### ğŸ“… Pendiente
- Implementar procesamiento del pedido y pago
- Implementar funcionalidad en las siguientes rutas:
    - `checkout`
    - `admin`
    - `admin/resumen`
    - `admin/pedidos`
    - `usuario/pedidos`

## [0.4.0] - 2025-05-11 
### â• Agregado
- Funcionalidad para mantener las alertas persistentes tras redirecciones
- Rutas iniciales para el panel de administraciÃ³n:
    - `admin`
    - `admin/productos`
    - `admin/productos/crear`
    - `admin/productos/editar`
    - `admin/resumen`
    - `admin/pedidos`
- CreaciÃ³n del controlador `AdminController.php` para gestionar las rutas administrativas
- IntegraciÃ³n de la librerÃ­a `Intervention Image` para la conversiÃ³n de imÃ¡genes al formato WebP
- FunciÃ³n para redimensionar y convertir imÃ¡genes subidas por el usuario a WebP
- FunciÃ³n para eliminar las imÃ¡genes asociadas a un producto cuando este es eliminado o se reemplaza su imagen

### ğŸ”§ Cambiado
- AÃ±adido parÃ¡metro `layout` en el mÃ©todo `render` de `Router.php` para utilizar una plantilla diferente en las rutas de administraciÃ³n
- Nuevas validaciones en el modelo `Producto`
- ActualizaciÃ³n de los datos de imagen en la columna `imagen` de la tabla `productos` para unificarlos con el formato de las imÃ¡genes subidas por el usuario
- Modificado el valor de `imagen` dentro de la tabla `productos` en `database.sql` para reflejar el nuevo formato.
- ImÃ¡genes de muestra convertidas a formato WebP

### ğŸ§¹ Eliminado
- Eliminada columna `miniatura` de la tabla `productos`
- Eliminada columna `miniatura` del modelo `Producto`
- Eliminada la columna `miniatura` en la tabla `productos` del archivo `database.sql` para mantener coherencia con la nueva estructura

### ğŸ› Corregido
- Solucionado un error que duplicaba las solicitudes de actualizaciÃ³n de datos en la ruta `/usuario`
- AÃ±adidas validaciones de acceso faltantes en rutas:
    - `olvide`
    - `recuperar`
    - `mensaje`
- ActualizaciÃ³n del valor de `password` en la tabla `usuarios` de `database.sql` por un hash
- CorrecciÃ³n del llamado a imÃ¡genes en la ruta `/tienda` para ajustarse al nuevo formato de nombres y extensiones.

### ğŸ“… Pendiente
- Implementar funcionalidad en las siguientes rutas:
    - `admin`
    - `admin/resumen`
    - `admin/pedidos`
    - `usuario/pedidos`

## [0.3.0] - 2025-05-05 
### â• Agregado
- Creada la tabla `direcciones` en la base de datos con sus respectivas relaciones.
- Implementado el modelo `Direccion` para interactuar con la base de datos.
- AÃ±adidas las rutas de creaciÃ³n y ediciÃ³n de direcciones:
    - `usuario/direcciones/crear`
    - `usuario/direcciones/editar`
- AÃ±adida la funciÃ³n para borrar direcciones guardadas por los usuarios.

### ğŸ“… Pendiente
- Agregar funcionalidad para que las alertas persistan despuÃ©s de una redirecciÃ³n.

## [0.2.0] - 2025-05-02
### ğŸ”§ Cambiado
- Migrada la lÃ³gica de confirmaciÃ³n de cuenta a la ruta `/actualizar`.
- Refactorizada la clase `Email` para facilitar mantenimiento y escalado futuro.

### ğŸ§¹ Eliminado
- Eliminada la columna `token` del modelo `Usuario`.
- Eliminada la columna `confirmado` del modelo `Token`.

### ğŸ› Corregido
- Ajustadas funciones afectadas por los cambios en los modelos.


## [0.1.0] - 2025-05-01
### Inicial
- Tienda online de venta de postres
- Sistema de usuarios con registro, login y confirmaciÃ³n por correo
- Carrito de compras con interfaz funcional (sin procesamiento de pedidos aÃºn)
- Validaciones de formularios (servidor y cliente)
- SeparaciÃ³n por roles: cliente y administrador
- Estilos con Sass y JavaScript modular usando Webpack
- AutomatizaciÃ³n de tareas con Gulp